<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {# Title #}
  <title>{% block title %}{{ config.title }}{% endblock %}</title>

  {# Meta Description #}
  {% if page.description %}
  <meta name="description" content="{{ page.description }}">
  {% elif page.summary %}
  <meta name="description" content="{{ page.summary }}">
  {% else %}
  <meta name="description" content="{{ config.description }}">
  {% endif %}

  {# Canonical URL #}
  {% if page %}
  <link rel="canonical" href="{{ page.permalink }}">
  {% elif section %}
  <link rel="canonical" href="{{ section.permalink }}">
  {% else %}
  <link rel="canonical" href="{{ config.base_url }}">
  {% endif %}

  {# Open Graph #}
  <meta property="og:site_name" content="{{ config.title }}">
  <meta property="og:title" content="{% block og_title %}{% if page %}{{ page.title }}{% else %}{{ config.title }}{% endif %}{% endblock %}">
  {% if page.description %}
  <meta property="og:description" content="{{ page.description }}">
  {% elif page.summary %}
  <meta property="og:description" content="{{ page.summary }}">
  {% else %}
  <meta property="og:description" content="{{ config.description }}">
  {% endif %}
  <meta property="og:type" content="{% if page %}article{% else %}website{% endif %}">
  {% if page %}
  <meta property="og:url" content="{{ page.permalink }}">
  {% elif section %}
  <meta property="og:url" content="{{ section.permalink }}">
  {% else %}
  <meta property="og:url" content="{{ config.base_url }}">
  {% endif %}
  {% if page.extra.preview_image %}
  <meta property="og:image" content="{{ get_url(path=page.extra.preview_image) }}">
  <meta property="og:image:alt" content="{{ page.title }}">
  {% endif %}
  {% if page.date %}
  <meta property="article:published_time" content="{{ page.date | date(format='%Y-%m-%dT%H:%M:%S%z') }}">
  {% endif %}
  {% if page.taxonomies.tags %}
  {% for tag in page.taxonomies.tags %}
  <meta property="article:tag" content="{{ tag }}">
  {% endfor %}
  {% endif %}

  {# Twitter Card #}
  <meta name="twitter:card" content="{% if page.extra.preview_image %}summary_large_image{% else %}summary{% endif %}">
  <meta name="twitter:title" content="{% if page %}{{ page.title }}{% else %}{{ config.title }}{% endif %}">
  {% if page.description %}
  <meta name="twitter:description" content="{{ page.description }}">
  {% elif page.summary %}
  <meta name="twitter:description" content="{{ page.summary }}">
  {% else %}
  <meta name="twitter:description" content="{{ config.description }}">
  {% endif %}
  {% if page.extra.preview_image %}
  <meta name="twitter:image" content="{{ get_url(path=page.extra.preview_image) }}">
  <meta name="twitter:image:alt" content="{{ page.title }}">
  {% endif %}

  <link rel="icon" href="{{ get_url(path="favicon.svg") }}" type="image/svg+xml">
  <link rel="stylesheet" href="{{ get_url(path="styles/base.css") }}">
  {% block extra_head %}{% endblock %}
</head>
<body>
  <!-- Mobile header -->
  <div class="header-mobile">
    <header>
      <h1><a href="/">{{ config.title }}</a></h1>
      <p>{{ config.description }}</p>
    </header>

    <div class="zig-zag-line zig-zag-top"></div>

    <nav>
      <a href="/" {% if current_path == "/" or current_path is starting_with("/voids") %}class="active"{% endif %}>Voids</a>
      <a href="/about" {% if current_path is starting_with("/about") %}class="active"{% endif %}>About</a>
      <a href="/tags" {% if current_path is starting_with("/tags") %}class="active"{% endif %}>Tags</a>
    </nav>

    <div class="zig-zag-line zig-zag-bottom"></div>
  </div>

  <!-- Landscape header -->
  <div class="header-landscape">
    <header>
      <h1><a href="/">{{ config.title }}</a></h1>
    </header>

    <div class="nav-container-landscape">
      <div class="zig-zag-line zig-zag-left"></div>

      <nav>
        <a href="/" {% if current_path == "/" or current_path is starting_with("/voids") %}class="active"{% endif %}>Voids</a>
        <a href="/about" {% if current_path is starting_with("/about") %}class="active"{% endif %}>About</a>
        <a href="/tags" {% if current_path is starting_with("/tags") %}class="active"{% endif %}>Tags</a>
      </nav>

      <div class="zig-zag-line zig-zag-right"></div>
    </div>
  </div>

  <main>
    {% block content %}{% endblock %}
  </main>

  <div class="zig-zag-line"/></div>

  <footer>
    <p>&copy; {{ now() | date(format="%Y") }} {{ config.title }}</p>
  </footer>
</body>
<script data-goatcounter="https://stats.gnarlyvoid.com/count"
        async src="//stats.gnarlyvoid.com/count.js"></script>
</html>
